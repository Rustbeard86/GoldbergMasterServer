{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "title": "Goldberg Master Server Configuration",
  "description": "Configuration schema for the Goldberg Master Server",
  "type": "object",
  "properties": {
    "Server": {
      "type": "object",
      "description": "Server-specific configuration settings",
      "properties": {
        "Port": {
          "type": "integer",
          "description": "The port number the server will listen on",
          "default": 47584,
          "minimum": 1,
          "maximum": 65535
        },
        "PeerCleanupIntervalSeconds": {
          "type": "integer",
          "description": "Interval in seconds for cleaning up stale peers",
          "default": 10,
          "minimum": 1
        },
        "PeerTimeoutSeconds": {
          "type": "integer",
          "description": "Timeout in seconds before a peer is considered disconnected",
          "default": 30,
          "minimum": 1
        },
        "MasterServerSteamId": {
          "type": "integer",
          "description": "The Steam ID used by the master server",
          "default": 1125903709880047
        }
      },
      "required": ["Port"]
    },
    "Logging": {
      "type": "object",
      "description": "Logging-specific configuration settings",
      "properties": {
        "LogLevels": {
          "type": "object",
          "description": "Log level configuration for different categories",
          "properties": {
            "Default": {
              "$ref": "#/definitions/LogCategory"
            },
            "Microsoft": {
              "$ref": "#/definitions/LogCategory"
            },
            "System": {
              "$ref": "#/definitions/LogCategory"
            },
            "Network": {
              "$ref": "#/definitions/LogCategory"
            },
            "PeerManagement": {
              "$ref": "#/definitions/LogCategory"
            },
            "Authentication": {
              "$ref": "#/definitions/LogCategory"
            }
          }
        },
        "Debug": {
          "type": "object",
          "description": "Debug-specific logging configuration",
          "properties": {
            "EnableDebug": {
              "type": "boolean",
              "description": "Enable debug mode",
              "default": false
            },
            "LogNetworkPackets": {
              "type": "boolean",
              "description": "Log network packet details",
              "default": false
            },
            "LogPeerEvents": {
              "type": "boolean",
              "description": "Log peer connection/disconnection events",
              "default": true
            },
            "LogAuthenticationAttempts": {
              "type": "boolean",
              "description": "Log authentication attempts",
              "default": true
            }
          }
        },
        "MinimumLevel": {
          "$ref": "#/definitions/LogLevel",
          "description": "Minimum log level to output"
        },
        "IncludeTimestamps": {
          "type": "boolean",
          "description": "Include timestamps in log output",
          "default": true
        },
        "IncludeSourceInfo": {
          "type": "boolean",
          "description": "Include source file and line number in log output",
          "default": true
        },
        "IncludeEventId": {
          "type": "boolean",
          "description": "Include event IDs in log output",
          "default": true
        },
        "LogToConsole": {
          "type": "boolean",
          "description": "Enable console logging",
          "default": true
        },
        "LogToFile": {
          "type": "boolean",
          "description": "Enable file logging",
          "default": true
        }
      }
    }
  },
  "definitions": {
    "LogLevel": {
      "type": "string",
      "enum": ["Trace", "Debug", "Information", "Warning", "Error", "Critical", "None"],
      "description": "Logging level"
    },
    "LogCategory": {
      "type": "object",
      "properties": {
        "Level": {
          "$ref": "#/definitions/LogLevel"
        }
      },
      "required": ["Level"]
    }
  }
}
